#!/bin/bash

# Define the command version
VERSION="v0.1.0"

# Function to display command version
show_version() {
    echo "internsctl version $VERSION"
}

# Function to display CPU information
cpu_getinfo() {
    lscpu
}

# Function to display memory information
memory_getinfo() {
    free
}

# Process command line options
case "$1" in
    --help)
        echo "Usage: internsctl [options]"
        echo "Options:"
        echo "  --help              Display help and examples"
        echo "  --version           Display command version"
        echo "  cpu getinfo         Display CPU information"
        echo "  memory getinfo      Display memory information"
        ;;
    --version)
        show_version
        ;;
    cpu)
        case "$2" in
            getinfo)
                cpu_getinfo
                ;;
            *)
                echo "Error: Unknown CPU subcommand. Use 'internsctl --help' for usage."
                exit 1
                ;;
        esac
        ;;
    memory)
        case "$2" in
            getinfo)
                memory_getinfo
                ;;
            *)
                echo "Error: Unknown memory subcommand. Use 'internsctl --help' for usage."
                exit 1
                ;;
        esac
        ;;
    *)
        echo "Error: Unknown option. Use 'internsctl --help' for usage."
        exit 1
        ;;
esac

exit 0
